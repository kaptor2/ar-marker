<!DOCTYPE html>
<html>

<head>
	<script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
</head>

<body>
	<video id="video" autoplay style="
		position: fixed;
		top: 50%;
		left: 50%;
		min-width: 100%;
		min-height: 100%;
		width: auto;
		height: auto;
		z-index: -100;
		transform: translateX(-50%) translateY(-50%);
		background: no-repeat;
		background-size: cover;"></video>
	<a-scene>

		<a-video src="#video" position="-1 1.7 -1.2" scale="0.5 0.25 0.25" play>
			<a-entity look-at="target: #marker"></a-entity>
		</a-video>


		<a-assets>
			<video id="video" autoplay loop="true" muted="false" src="video/Appello.mp4" style="display: none"></video>
		</a-assets>
		<a-entity camera look-controls></a-entity>
	</a-scene>

	<script>
		const video = document.querySelector('#video');
		const constraints = { video: true };

		navigator.mediaDevices.getUserMedia(constraints)
			.then((stream) => {
				video.srcObject = stream;
				video.play();
				const scene = document.querySelector('a-scene');
				scene.addEventListener('loaded', () => {
					scene.setAttribute('background', 'src: #video');
				});
			});
	</script>
</body>

</html>